<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <div class="govuk-form-group">
      <app-sub-wizard-title
        [contactType]="contactType"
        [subTitle]="getTitle(selectAccountHolderContactView$ | async)"
      ></app-sub-wizard-title>
    </div>

    <ng-container *ngIf="accountHolderContact$ | async">
      <dl
        class="govuk-summary-list"
        [class.govuk-summary-list--no-border]="
          selectAccountHolderContactView$ | async
        "
      >
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            <h2 class="govuk-!-margin-0">{{ getDetailsTitle() }}</h2>
          </dt>
          <dd class="govuk-summary-list__actions">
            <a
              *ngIf="
                !(selectAccountHolderContactView$ | async).valueOf() &&
                !(accountHolderContact$ | async).id
              "
              class="govuk-link"
              [routerLink]="[
                legelRepresentativeWizardRoutes.ACCOUNT_HOLDER_CONTACT_PERSONAL_DETAILS,
                contactType
              ]"
              skipLocationChange="true"
            >
              Change<span class="govuk-visually-hidden">
                {{ getDetailsTitle() }}</span
              >
            </a>
          </dd>
        </div>
      </dl>
      <dl
        class="
          govuk-summary-list govuk-summary-list--no-border
          govuk-!-margin-bottom-9
        "
        *ngIf="(accountHolderContact$ | async).details"
      >
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">First and middle names</dt>
          <dd class="govuk-summary-list__value">
            {{ (accountHolderContact$ | async).details?.firstName }}
          </dd>
        </div>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">Last name</dt>
          <dd class="govuk-summary-list__value">
            {{ (accountHolderContact$ | async).details?.lastName }}
          </dd>
        </div>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            I confirm that the {{ getTypeText() }} is aged 18 or over
          </dt>
          <dd class="govuk-summary-list__value">Yes</dd>
        </div>
      </dl>

      <dl
        class="govuk-summary-list"
        [class.govuk-summary-list--no-border]="
          selectAccountHolderContactView$ | async
        "
      >
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            <h2 class="govuk-!-margin-0">{{ getWorkDetailsTitle() }}</h2>
          </dt>
          <dd class="govuk-summary-list__actions">
            <a
              *ngIf="
                !(selectAccountHolderContactView$ | async).valueOf() &&
                !(accountHolderContact$ | async).id
              "
              class="govuk-link"
              [routerLink]="[
                legelRepresentativeWizardRoutes.ACCOUNT_HOLDER_CONTACT_CONTACT_DETAILS,
                contactType
              ]"
              skipLocationChange="true"
            >
              Change<span class="govuk-visually-hidden">
                {{ getWorkDetailsTitle() }}</span
              >
            </a>
          </dd>
        </div>
      </dl>
      <dl
        class="
          govuk-summary-list govuk-summary-list--no-border
          govuk-!-margin-bottom-9
        "
      >
        <ng-container *ngIf="(accountHolderContact$ | async).address">
          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">Company position</dt>
            <dd class="govuk-summary-list__value">
              {{ (accountHolderContact$ | async).positionInCompany }}
            </dd>
          </div>
          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">Address</dt>
            <dd class="govuk-summary-list__value">
              <app-shared-three-line-address
                [line1]="
                  (accountHolderContact$ | async).address.buildingAndStreet
                "
                [line2]="
                  (accountHolderContact$ | async).address.buildingAndStreet2
                "
                [line3]="
                  (accountHolderContact$ | async).address.buildingAndStreet3
                "
              ></app-shared-three-line-address>
            </dd>
          </div>
          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">Town or city</dt>
            <dd class="govuk-summary-list__value">
              <ng-container
                *ngIf="(accountHolderContact$ | async).address.townOrCity"
              >
                {{
                  (accountHolderContact$ | async).address.townOrCity
                }}</ng-container
              >
            </dd>
          </div>
          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">State or Province</dt>
            <dd class="govuk-summary-list__value">
              <ng-container
                *ngIf="(accountHolderContact$ | async).address.stateOrProvince"
              >
                {{
                  (accountHolderContact$ | async).address.stateOrProvince
                }}</ng-container
              >
            </dd>
          </div>
          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">Postal Code or ZIP</dt>
            <dd class="govuk-summary-list__value">
              <ng-container
                *ngIf="(accountHolderContact$ | async).address.postCode"
              >
                {{ (accountHolderContact$ | async).address.postCode }}
              </ng-container>
            </dd>
          </div>
          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">Country</dt>
            <dd class="govuk-summary-list__value">
              <ng-container
                *ngIf="(accountHolderContact$ | async).address.country"
              >
                {{ accountHolderAddressCountry$ | async }}</ng-container
              >
            </dd>
          </div>
          <div
            class="govuk-summary-list__row"
            *ngIf="(accountHolderContact$ | async).phoneNumber?.phoneNumber1"
          >
            <dt class="govuk-summary-list__key">Phone number 1</dt>
            <dd class="govuk-summary-list__value">
              +{{ (accountHolderContact$ | async).phoneNumber.countryCode1
              }}{{ (accountHolderContact$ | async).phoneNumber.phoneNumber1 }}
            </dd>
          </div>
          <div
            class="govuk-summary-list__row"
            *ngIf="(accountHolderContact$ | async).phoneNumber?.phoneNumber2"
          >
            <dt class="govuk-summary-list__key">Phone number 2</dt>
            <dd class="govuk-summary-list__value">
              +{{ (accountHolderContact$ | async).phoneNumber.countryCode2
              }}{{ (accountHolderContact$ | async).phoneNumber.phoneNumber2 }}
            </dd>
          </div>
          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">Email address</dt>
            <dd class="govuk-summary-list__value">
              {{ (accountHolderContact$ | async).emailAddress?.emailAddress }}
            </dd>
          </div>
        </ng-container>
      </dl>
    </ng-container>

    <div class="govuk-form-group">
      <button
        *ngIf="
          (selectAccountHolderContactView$ | async).valueOf() &&
          !(accountHolderContact$ | async).id
        "
        class="govuk-button govuk-!-margin-right-3"
        data-module="govuk-button"
        type="submit"
        (click)="onEdit()"
      >
        Edit
      </button>
      <button
        *ngIf="!(selectAccountHolderContactView$ | async).valueOf()"
        class="govuk-button govuk-!-margin-right-3"
        data-module="govuk-button"
        type="submit"
        (click)="onApply()"
        id="continue"
      >
        Continue
      </button>
      <button
        *ngIf="
          (selectAccountHolderContactView$ | async) &&
          !(accountHolderContact$ | async).id
        "
        class="govuk-button govuk-button--secondary"
        data-module="govuk-button"
        type="submit"
        (click)="onDelete()"
      >
        Delete
      </button>
    </div>
  </div>
</div>
