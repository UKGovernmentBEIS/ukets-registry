<span>
  <form [formGroup]="form" (ngSubmit)="onSearch()">
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-one-third">
        <app-form-control-text
          controlName="accountNumber"
          [label]="'Account number'"
        >
        </app-form-control-text>
      </div>
      <div class="govuk-grid-column-one-third">
        <app-form-control-select
          controlName="taskStatus"
          [options]="taskStatusOptions"
          [class]="'govuk-!-width-full'"
          [label]="'Task status'"
        ></app-form-control-select>
      </div>
      <div class="govuk-grid-column-one-third">
        <app-form-control-text
          controlName="transactionId"
          [label]="'Transaction Id'"
        >
        </app-form-control-text>
      </div>
    </div>
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-one-third">
        <app-form-control-text
          controlName="claimantName"
          [label]="'Name of claimant'"
        >
        </app-form-control-text>
      </div>
      <div class="govuk-grid-column-one-third">
        <app-form-control-select
          controlName="taskType"
          [options]="taskTypeOptions"
          [class]="'govuk-!-width-full'"
          [label]="'Task type'"
        ></app-form-control-select>
      </div>
      <div class="govuk-grid-column-one-third">
        <app-form-control-text controlName="requestId" [label]="'Request Id'">
        </app-form-control-text>
      </div>
    </div>

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-full">
        <details
          class="govuk-details"
          data-module="govuk-details"
          [attr.open]="showAdvancedSearch ? true : null"
        >
          <summary
            class="govuk-details__summary"
            #summary
            (click)="toggleAdvancedSearch()"
          >
            <span class="govuk-details__summary-text"> Advanced search </span>
          </summary>
          <div class="govuk-details__text">
            <div class="govuk-grid-row">
              <div class="govuk-grid-column-one-third">
                <app-form-control-text
                  controlName="accountHolder"
                  [label]="'Account Holder'"
                >
                </app-form-control-text>
              </div>
              <div
                class="govuk-grid-column-one-third"
                *ngIf="
                  'urn:uk-ets-registry-api:page:task:search:accountType:view'
                    | protect
                    | async
                "
              >
                <app-form-control-select
                  controlName="accountType"
                  [options]="accountTypeOptions"
                  [class]="'govuk-!-width-full'"
                  [label]="'Account type'"
                >
                </app-form-control-select>
              </div>
            </div>

            <div class="govuk-grid-row">
              <div class="govuk-grid-column-one-third">
                <app-form-control-select
                  controlName="taskOutcome"
                  [options]="taskOutcomeOptions"
                  [label]="'Task outcome'"
                  [class]="'govuk-!-width-full'"
                >
                </app-form-control-select>
              </div>
              <div class="govuk-grid-column-one-third">
                <app-form-control-text
                  controlName="initiatorName"
                  [label]="'Name of initiator'"
                >
                </app-form-control-text>
              </div>
            </div>

            <fieldset class="govuk-fieldset">
              <legend class="govuk-fieldset__legend">Claimed on</legend>
              <div class="govuk-grid-row">
                <div class="govuk-grid-column-one-third">
                  <app-form-control-datepicker
                    controlName="claimedOnFrom"
                    [label]="'From'"
                  >
                  </app-form-control-datepicker>
                </div>
                <div class="govuk-grid-column-one-third">
                  <app-form-control-datepicker
                    controlName="claimedOnTo"
                    [label]="'To'"
                  >
                  </app-form-control-datepicker>
                </div>
              </div>
            </fieldset>

            <fieldset class="govuk-fieldset">
              <legend class="govuk-fieldset__legend">Created on</legend>
              <div class="govuk-grid-row">
                <div class="govuk-grid-column-one-third">
                  <app-form-control-datepicker
                    controlName="createdOnFrom"
                    [label]="'From'"
                  >
                  </app-form-control-datepicker>
                </div>
                <div class="govuk-grid-column-one-third">
                  <app-form-control-datepicker
                    controlName="createdOnTo"
                    [label]="'To'"
                  >
                  </app-form-control-datepicker>
                </div>
              </div>
            </fieldset>

            <fieldset class="govuk-fieldset">
              <legend class="govuk-fieldset__legend">Completed on</legend>
              <div class="govuk-grid-row">
                <div class="govuk-grid-column-one-third">
                  <app-form-control-datepicker
                    controlName="completedOnFrom"
                    [label]="'From'"
                  >
                  </app-form-control-datepicker>
                </div>
                <div class="govuk-grid-column-one-third">
                  <app-form-control-datepicker
                    controlName="completedOnTo"
                    [label]="'To'"
                  >
                  </app-form-control-datepicker>
                </div>
              </div>
            </fieldset>
          </div>
        </details>
      </div>
    </div>

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-one-third">
        <button
          data-prevent-double-click="true"
          class="govuk-button submit-form"
          data-module="govuk-button"
          type="submit"
          id="submit"
        >
          Search
        </button>
        <button
          type="button"
          (click)="onClear()"
          class="
            govuk-button govuk-button--secondary
            govuk-!-margin-left-3
            clear-form
          "
          data-module="govuk-button"
        >
          Clear
        </button>
        <button
          type="button"
          (click)="onReset()"
          class="
            govuk-button govuk-button--secondary
            govuk-!-margin-left-3
            reset-form
          "
          data-module="govuk-button"
        >
          Reset
        </button>
      </div>
    </div>
  </form>
</span>
